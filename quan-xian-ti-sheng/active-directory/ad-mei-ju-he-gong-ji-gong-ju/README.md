---
description: è¿™æ˜¯ä¸€ä¸ªå…³äº AD æ”»å‡»ä¸­å¯èƒ½ä¼šä½¿ç”¨çš„ä¸€äº›å·¥å…·
---

# ğŸ¦¯ AD æšä¸¾å’Œæ”»å‡» -- å·¥å…·



| å·¥å…·                                                                                                                                            | æè¿°                                                                                                                                                                                                                                                        |
| --------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [PowerView](https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1)/[SharpView](https://github.com/dmchell/SharpView) | PowerShell å·¥å…·å’Œç›¸åŒçš„ .NET ç«¯å£ç”¨äºåœ¨ AD ä¸­è·å¾—æ€åŠ¿æ„ŸçŸ¥ã€‚ è¿™äº›å·¥å…·å¯ç”¨ä½œå„ç§ Windows net\* å‘½ä»¤ç­‰çš„æ›¿ä»£å“ã€‚ PowerView å’Œ SharpView å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ”¶é›† BloodHound æ‰€åšçš„å¤§éƒ¨åˆ†æ•°æ®ï¼Œä½†éœ€è¦åšæ›´å¤šçš„å·¥ä½œæ‰èƒ½åœ¨æ‰€æœ‰æ•°æ®ç‚¹ä¹‹é—´å»ºç«‹æœ‰æ„ä¹‰çš„å…³ç³»ã€‚ è¿™äº›å·¥å…·éå¸¸é€‚åˆæ£€æŸ¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç»„æ–°å‡­æ®è¿›è¡Œå“ªäº›é¢å¤–è®¿é—®ï¼Œé’ˆå¯¹ç‰¹å®šç”¨æˆ·æˆ–è®¡ç®—æœºï¼Œæˆ–æŸ¥æ‰¾ä¸€äº›â€œå¿«é€Ÿè·èƒœâ€ï¼Œä¾‹å¦‚å¯ä»¥é€šè¿‡ Kerberoasting æˆ– ASREPRoasting æ”»å‡»çš„ç”¨æˆ· |
| [Impacket toolkit](https://github.com/SecureAuthCorp/impacket)                                                                                | ç”¨ Python ç¼–å†™çš„ç”¨äºä¸ç½‘ç»œåè®®äº¤äº’çš„å·¥å…·é›†åˆã€‚ è¯¥å·¥å…·å¥—ä»¶åŒ…å«ç”¨äºæšä¸¾å’Œæ”»å‡» Active Directory çš„å„ç§è„šæœ¬                                                                                                                                                                                         |
| [Responder](https://github.com/lgandx/Responder)                                                                                              | Responder æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨æ¥æ¯’åŒ– LLMNRã€NBT-NS å’Œ MDNS çš„å·¥å…·ï¼Œå…·æœ‰è®¸å¤šä¸åŒçš„åŠŸèƒ½                                                                                                                                                                                                     |
| [Inveigh.ps1](https://github.com/Kevin-Robertson/Inveigh/blob/master/Inveigh.ps1)                                                             | ç±»ä¼¼äº Responderï¼Œä¸€ç§ç”¨äºæ‰§è¡Œå„ç§ç½‘ç»œæ¬ºéª—å’Œä¸­æ¯’æ”»å‡»çš„ PowerShell å·¥å…·                                                                                                                                                                                                            |
| [C# Inveighï¼ˆInveighZeroï¼‰](https://github.com/Kevin-Robertson/Inveigh/tree/master/Inveigh)                                                     | Inveigh çš„ C# ç‰ˆæœ¬å¸¦æœ‰åŠäº¤äº’å¼æ§åˆ¶å°ï¼Œç”¨äºä¸æ•è·çš„æ•°æ®ï¼ˆå¦‚ç”¨æˆ·åå’Œå¯†ç å“ˆå¸Œï¼‰è¿›è¡Œäº¤äº’                                                                                                                                                                                                          |
| [rpcclient](https://www.samba.org/samba/docs/current/man-html/rpcclient.1.html)                                                               | Linux å‘è¡Œç‰ˆä¸Š Samba å¥—ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œå¯ç”¨äºé€šè¿‡è¿œç¨‹ RPC æœåŠ¡æ‰§è¡Œå„ç§ Active Directory æšä¸¾ä»»åŠ¡                                                                                                                                                                                          |
| [CrackMapExec (CME)](https://github.com/byt3bl33d3r/CrackMapExec)                                                                             | CME æ˜¯ä¸€ä¸ªæšä¸¾ã€æ”»å‡»å’ŒåæœŸå¼€å‘å·¥å…·åŒ…ï¼Œå¯ä»¥æå¤§åœ°å¸®åŠ©æˆ‘ä»¬å¯¹æ”¶é›†åˆ°çš„æ•°æ®è¿›è¡Œæšä¸¾å’Œæ‰§è¡Œæ”»å‡»ã€‚ CME è¯•å›¾â€œé åœ°ä¸ºç”Ÿâ€å¹¶æ»¥ç”¨å†…ç½®çš„ AD åŠŸèƒ½å’Œåè®®ï¼Œå¦‚ SMBã€WMIã€WinRM å’Œ MSSQL                                                                                                                                                       |
| [Rubeus](https://github.com/GhostPack/Rubeus)                                                                                                 | Rubeus æ˜¯ä¸º Kerberos æ»¥ç”¨æ„å»ºçš„ C# å·¥å…·                                                                                                                                                                                                                            |
| [GetUserSPNs.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/GetUserSPNs.py)                                              | å¦ä¸€ä¸ª Impacket æ¨¡å—æ—¨åœ¨æŸ¥æ‰¾ä¸æ™®é€šç”¨æˆ·ç›¸å…³çš„æœåŠ¡ä¸»ä½“åç§°                                                                                                                                                                                                                         |
| [Hashcat](https://hashcat.net/hashcat/)                                                                                                       | æš´åŠ›ç ´è§£å·¥å…·                                                                                                                                                                                                                                                    |
| [enum4linux](https://github.com/CiscoCXSecurity/enum4linux)                                                                                   | ç”¨äºä» Windows å’Œ Samba ç³»ç»Ÿæšä¸¾ä¿¡æ¯çš„å·¥å…·                                                                                                                                                                                                                             |
| [enum4linux-ng](https://github.com/cddmp/enum4linux-ng)                                                                                       | åŸå§‹ Enum4linux å·¥å…·çš„è¿”å·¥ï¼Œå…¶å·¥ä½œæ–¹å¼ç•¥æœ‰ä¸åŒ                                                                                                                                                                                                                             |
| [ldapsearch](https://linux.die.net/man/1/ldapsearch)                                                                                          | ç”¨äºä¸ LDAP åè®®äº¤äº’çš„å†…ç½®æ¥å£                                                                                                                                                                                                                                        |
| [windapsearch](https://github.com/ropnop/windapsearch)                                                                                        | ç”¨äºä½¿ç”¨ LDAP æŸ¥è¯¢æšä¸¾ AD ç”¨æˆ·ã€ç»„å’Œè®¡ç®—æœºçš„ Python è„šæœ¬ã€‚ ç”¨äºè‡ªåŠ¨åŒ–è‡ªå®šä¹‰ LDAP æŸ¥è¯¢                                                                                                                                                                                                   |
| [DomainPasswordSpray.ps1](https://github.com/dafthack/DomainPasswordSpray)                                                                    | DomainPasswordSpray æ˜¯ä¸€ç§ç”¨ PowerShell ç¼–å†™çš„å·¥å…·ï¼Œç”¨äºå¯¹åŸŸç”¨æˆ·æ‰§è¡Œå¯†ç å–·å°„æ”»å‡»                                                                                                                                                                                                  |
| [LAPSToolkit](https://github.com/leoloobeek/LAPSToolkit)                                                                                      | è¯¥å·¥å…·åŒ…åŒ…æ‹¬ç”¨ PowerShell ç¼–å†™çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°åˆ©ç”¨ PowerView æ¥å®¡è®¡å’Œæ”»å‡»å·²éƒ¨ç½² Microsoft æœ¬åœ°ç®¡ç†å‘˜å¯†ç è§£å†³æ–¹æ¡ˆ (LAPS) çš„ Active Directory ç¯å¢ƒ                                                                                                                                                    |
| [smbmap](https://github.com/ShawnDEvans/smbmap)                                                                                               | è·¨åŸŸçš„ SMB å…±äº«æšä¸¾                                                                                                                                                                                                                                              |
| [psexec.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/psexec.py)                                                        | ä½œä¸º Impacket å·¥å…·åŒ…çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¥åŠäº¤äº’å¼ shell çš„å½¢å¼ä¸ºæˆ‘ä»¬æä¾›äº†ç±»ä¼¼ Psexec çš„åŠŸèƒ½                                                                                                                                                                                                   |
| [wmiexec.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/wmiexec.py)                                                      | ä½œä¸º Impacket å·¥å…·åŒ…çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæä¾›äº†é€šè¿‡ WMI æ‰§è¡Œå‘½ä»¤çš„èƒ½åŠ›                                                                                                                                                                                                                    |
| [Snaffler](https://github.com/SnaffCon/Snaffler)                                                                                              | ç”¨äºåœ¨å…·æœ‰å¯è®¿é—®æ–‡ä»¶å…±äº«çš„è®¡ç®—æœºä¸Šçš„ Active Directory ä¸­æŸ¥æ‰¾ä¿¡æ¯ï¼ˆä¾‹å¦‚å‡­æ®ï¼‰                                                                                                                                                                                                           |
| [smbserver.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/smbserver.py)                                                  | ç”¨äºä¸ Windows ä¸»æœºäº¤äº’çš„ç®€å• SMB æœåŠ¡å™¨æ‰§è¡Œã€‚ åœ¨ç½‘ç»œä¸­ä¼ è¾“æ–‡ä»¶çš„ç®€ä¾¿æ–¹æ³•                                                                                                                                                                                                              |
| [setspn.exe](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc731241\(v=ws.11\))           | æ·»åŠ ã€è¯»å–ã€ä¿®æ”¹å’Œåˆ é™¤ Active Directory æœåŠ¡å¸æˆ·çš„æœåŠ¡ä¸»ä½“åç§° (SPN) ç›®å½•å±æ€§                                                                                                                                                                                                       |
| [Mimikatz](https://github.com/ParrotSec/mimikatz)                                                                                             | æ‰§è¡Œè®¸å¤šåŠŸèƒ½ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¼ é€’å“ˆå¸Œæ”»å‡»ã€æå–æ˜æ–‡å¯†ç ä»¥åŠä»ä¸»æœºå†…å­˜ä¸­æå– Kerberos ç¥¨è¯                                                                                                                                                                                                        |
| [secretsdump.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/secretsdump.py)                                              | ä»ä¸»æœºè¿œç¨‹è½¬å‚¨ SAM å’Œ LSA æœºå¯†                                                                                                                                                                                                                                      |
| [evil-winrm](https://github.com/Hackplayers/evil-winrm)                                                                                       | é€šè¿‡ WinRM åè®®åœ¨ä¸»æœºä¸Šä¸ºæˆ‘ä»¬æä¾›äº¤äº’å¼ shell                                                                                                                                                                                                                             |
| [mssqlclient.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/mssqlclient.py)                                              | ä½œä¸º Impacket å·¥å…·åŒ…çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæä¾›äº†ä¸ MSSQL æ•°æ®åº“äº¤äº’çš„èƒ½åŠ›                                                                                                                                                                                                                  |
| [noPac.py](https://github.com/Ridter/noPac)                                                                                                   | åˆ©ç”¨ CVE-2021-42278 å’Œ CVE-2021-42287 ç»„åˆä»æ ‡å‡†åŸŸç”¨æˆ·å†’å…… DA                                                                                                                                                                                                          |
| [rpcdump.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/rpcdump.py)                                                      | Impacket å·¥å…·é›†çš„ä¸€éƒ¨åˆ†ï¼ŒRPC ç«¯ç‚¹æ˜ å°„å™¨                                                                                                                                                                                                                                |
| [CVE-2021-1675.py](https://github.com/cube0x0/CVE-2021-1675/blob/main/CVE-2021-1675.py)                                                       | Python ä¸­çš„ Printnightmare PoC                                                                                                                                                                                                                              |
| [ntlmrelayx.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/ntlmrelayx.py)                                                | ä½œä¸º Impacket å·¥å…·é›†çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæ‰§è¡Œ SMB ä¸­ç»§æ”»å‡»                                                                                                                                                                                                                          |
| [PetitPotam.py](https://github.com/topotam/PetitPotam)                                                                                        | CVE-2021-36942 çš„ PoC å·¥å…·å¼ºåˆ¶ Windows ä¸»æœºé€šè¿‡ MS-EFSRPC EfsRpcOpenFileRaw æˆ–å…¶ä»–å‡½æ•°å‘å…¶ä»–æœºå™¨è¿›è¡Œèº«ä»½éªŒè¯                                                                                                                                                                       |
| [gettgtpkinit.py](https://github.com/dirkjanm/PKINITtools/blob/master/gettgtpkinit.py)                                                        | ç”¨äºæ“ä½œè¯ä¹¦å’Œ TGT çš„å·¥å…·                                                                                                                                                                                                                                           |
| [getnthash.py](https://github.com/dirkjanm/PKINITtools/blob/master/getnthash.py)                                                              | æ­¤å·¥å…·å°†ä½¿ç”¨ç°æœ‰çš„ TGT ä¸ºä½¿ç”¨ U2U çš„å½“å‰ç”¨æˆ·è¯·æ±‚ PAC                                                                                                                                                                                                                         |
| [adidnsdump](https://github.com/dirkjanm/adidnsdump)                                                                                          | ç”¨äºä»åŸŸä¸­æšä¸¾å’Œè½¬å‚¨ DNS è®°å½•çš„å·¥å…·ã€‚ ç±»ä¼¼äºæ‰§è¡Œ DNS åŒºåŸŸä¼ è¾“                                                                                                                                                                                                                      |
| [gpp-decrypt](https://github.com/t0thkr1s/gpp-decrypt)                                                                                        | ä»ç»„ç­–ç•¥é¦–é€‰é¡¹æ–‡ä»¶ä¸­æå–ç”¨æˆ·åå’Œå¯†ç                                                                                                                                                                                                                                         |
| [GetNPUsers.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/GetNPUsers.py)                                                | Impacket å·¥å…·åŒ…çš„ä¸€éƒ¨åˆ†ã€‚ ç”¨äºæ‰§è¡Œ ASREPRoasting æ”»å‡»ä»¥åˆ—å‡ºå’Œè·å–è®¾ç½®ä¸ºâ€œä¸éœ€è¦ Kerberos é¢„èº«ä»½éªŒè¯â€çš„ç”¨æˆ·çš„ AS-REP å“ˆå¸Œã€‚ ç„¶åå°†è¿™äº›å“ˆå¸Œè¾“å…¥åˆ° Hashcat ç­‰å·¥å…·ä¸­ï¼Œä»¥å°è¯•è¿›è¡Œç¦»çº¿å¯†ç ç ´è§£                                                                                                                                   |
| [lookupsid.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/lookupsid.py)                                                  | SID æš´åŠ›ç ´è§£å·¥å…·                                                                                                                                                                                                                                                |
| [ticketer.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/ticketer.py)                                                    | ç”¨äºåˆ›å»ºå’Œå®šåˆ¶ TGT/TGS ç¥¨è¯çš„å·¥å…·ã€‚ å®ƒå¯ç”¨äºåˆ›å»ºé‡‘ç¥¨ã€å­©å­å¯¹çˆ¶æ¯çš„ä¿¡ä»»æ”»å‡»ç­‰                                                                                                                                                                                                               |
| [raiseChild.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/raiseChild.py)                                                | Impacket å·¥å…·åŒ…çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæ˜¯ä¸€ä¸ªè‡ªåŠ¨å­åŸŸåˆ°çˆ¶åŸŸæƒé™å‡çº§çš„å·¥å…·                                                                                                                                                                                                                       |
| [Active Directory Explorer](https://docs.microsoft.com/en-us/sysinternals/downloads/adexplorer)                                               | Active Directory Explorer (AD Explorer) æ˜¯ä¸€ä¸ª AD æŸ¥çœ‹å™¨å’Œç¼–è¾‘å™¨ã€‚ å®ƒå¯ç”¨äºå¯¼èˆª AD æ•°æ®åº“å’ŒæŸ¥çœ‹å¯¹è±¡å±æ€§ã€‚ å®ƒè¿˜å¯ä»¥ç”¨äºä¿å­˜ AD æ•°æ®åº“çš„å¿«ç…§ä»¥ä¾›ç¦»çº¿åˆ†æã€‚ åŠ è½½ AD å¿«ç…§æ—¶ï¼Œå¯ä»¥å°†å…¶ä½œä¸ºæ•°æ®åº“çš„å®æ—¶ç‰ˆæœ¬è¿›è¡Œæ¢ç´¢ã€‚ å®ƒè¿˜å¯ç”¨äºæ¯”è¾ƒä¸¤ä¸ª AD æ•°æ®åº“å¿«ç…§ï¼Œä»¥æŸ¥çœ‹å¯¹è±¡ã€å±æ€§å’Œå®‰å…¨æƒé™çš„å˜åŒ–                                                                                 |
| [PingCastle](https://www.pingcastle.com/documentation/)                                                                                       | ç”¨äºåŸºäºé£é™©è¯„ä¼°å’Œæˆç†Ÿåº¦æ¡†æ¶ï¼ˆåŸºäºé€‚é…ADå®‰å…¨çš„CMMIï¼‰å¯¹ADç¯å¢ƒçš„å®‰å…¨çº§åˆ«è¿›è¡Œå®¡è®¡ã€‚                                                                                                                                                                                                              |
| [Group3r](https://github.com/Group3r/Group3r)                                                                                                 | Group3r å¯ç”¨äºå®¡æ ¸å’ŒæŸ¥æ‰¾ AD ç»„ç­–ç•¥å¯¹è±¡ (GPO) ä¸­çš„å®‰å…¨é…ç½®é”™è¯¯ã€‚                                                                                                                                                                                                                 |

## AD ä¾¦æŸ¥

### BloodHound

| åç§°                                                                              | ä½œç”¨                                                                                                                              |
| ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| [SharpHound](https://github.com/BloodHoundAD/BloodHound/tree/master/Collectors) | C# æ•°æ®æ”¶é›†å™¨ä» Active Directory æ”¶é›†æœ‰å…³ä¸åŒ AD å¯¹è±¡çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·ã€ç»„ã€è®¡ç®—æœºã€ACLã€GPOã€ç”¨æˆ·å’Œè®¡ç®—æœºå±æ€§ã€ç”¨æˆ·ä¼šè¯ç­‰ã€‚ è¯¥å·¥å…·ç”Ÿæˆ JSON æ–‡ä»¶ï¼Œç„¶åå¯ä»¥å°†è¿™äº›æ–‡ä»¶æå–åˆ° BloodHound GUI å·¥å…·ä¸­è¿›è¡Œåˆ†æ |
| [BloodHound.py](https://github.com/fox-it/BloodHound.py)                        | åŸºäº Impacket å·¥å…·åŒ…çš„ Python  BloodHound æ‘„å–å™¨ã€‚ å®ƒæ”¯æŒå¤§å¤šæ•° BloodHound æ”¶é›†æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥ä»æœªåŠ å…¥åŸŸçš„æ”»å‡»ä¸»æœºè¿è¡Œã€‚ å¯ä»¥å°†è¾“å‡ºæå–åˆ° BloodHound GUI ä¸­è¿›è¡Œåˆ†æ                 |
| BloodHound                                                                      |                                                                                                                                 |

### ADRecon

| åç§°                                            | ä½œç”¨                                                                           |
| --------------------------------------------- | ---------------------------------------------------------------------------- |
| [ADRecon](https://github.com/adrecon/ADRecon) | ç”¨äºä»ç›®æ ‡ AD ç¯å¢ƒä¸­æå–å„ç§æ•°æ®çš„å·¥å…·ã€‚ æ•°æ®å¯ä»¥ Microsoft Excel æ ¼å¼è¾“å‡ºï¼Œå¸¦æœ‰æ‘˜è¦è§†å›¾å’Œåˆ†æï¼Œä»¥ååŠ©åˆ†æå¹¶ç»˜åˆ¶ç¯å¢ƒæ•´ä½“å®‰å…¨çŠ¶æ€å›¾ |

## Kerberos

| åç§°                                             | ä»‹ç»é“¾æ¥              | ä½œç”¨                                                        |
| ---------------------------------------------- | ----------------- | --------------------------------------------------------- |
| [Kerbrute](https://github.com/ropnop/kerbrute) | [é“¾æ¥](kerbrute.md) | æš´åŠ›ç ´è§£ç”¨æˆ·ã€å¯†ç ã€å¯†ç å–·æ´’                                            |
| Impacket-GetNPUsers                            | é“¾æ¥                | è¿™ä¸ªè„šæœ¬ä¼šå°è¯•è·å¾—å¹¶åˆ—å‡ºä¸éœ€è¦KerberosåŸŸè®¤è¯(UF\_DONT\_REQUIRE\_PREAUTH)çš„ç”¨æˆ· |

